class ACPTFormValidator{constructor(t){switch(this.errors=[],this.elements=document.body.querySelectorAll("[data-acpt-validate]"),this.action=t,this.form=0<this.elements.length&&this.elements[0].form?this.elements[0].form:null,this.action){case"save-option-page":this.button=document.getElementById("save-option-page");break;case"add-tax":case"save-user":this.button=document.getElementById("submit");break;case"edit-tax":this.button=document.querySelector(".button-primary");break;case"save-cpt":this.button=document.querySelector(".editor-post-publish-button")}this.button||(this.button=document.body.querySelector("[data-acpt-submit]"))}run(){this.elements.forEach(t=>{this.form||this.#changeValueHandler(t),t.addEventListener("change",t=>{this.#changeValueHandler(t.target)}),t.addEventListener("keyup",t=>{this.#changeValueHandler(t.target)})}),this.#handleOnButtonClick()}#formIsValid(){return 0===this.errors.filter(t=>0<t.errors.length).length}#handleOnButtonClick(){this.button&&this.button.addEventListener("click",t=>{this.elements.forEach(t=>{this.#changeValueHandler(t)}),this.#formIsValid()||(t.stopPropagation(),t.preventDefault())})}#changeValueHandler(t){let e=t.value,a=t.id;s=[],T=t.required,O=t.getAttribute("data-acpt-validate-required"),r=t.getAttribute("data-acpt-validate-blank"),i=t.getAttribute("data-acpt-validate-blank-message"),n=t.getAttribute("data-acpt-validate-not-blank"),d=t.getAttribute("data-acpt-validate-not-blank-message"),l=t.getAttribute("data-acpt-validate-equals"),u=t.getAttribute("data-acpt-validate-equals-message"),p=t.getAttribute("data-acpt-validate-not-equals"),g=t.getAttribute("data-acpt-validate-not-equals-message"),h=t.getAttribute("data-acpt-validate-gt"),o=t.getAttribute("data-acpt-validate-gt-message"),c=t.getAttribute("data-acpt-validate-gte"),m=t.getAttribute("data-acpt-validate-gte-message"),b=t.getAttribute("data-acpt-validate-lt"),v=t.getAttribute("data-acpt-validate-lt-message"),A=t.getAttribute("data-acpt-validate-lte"),I=t.getAttribute("data-acpt-validate-lte-message"),y=t.getAttribute("data-acpt-validate-max"),E=t.getAttribute("data-acpt-validate-max-message"),f=t.getAttribute("data-acpt-validate-min"),x=t.getAttribute("data-acpt-validate-min-message"),B=t.getAttribute("data-acpt-validate-maxlength"),k=t.getAttribute("data-acpt-validate-maxlength-message"),q=t.getAttribute("data-acpt-validate-minlength"),L=t.getAttribute("data-acpt-validate-minlength-message"),V=t.getAttribute("data-acpt-validate-regex"),H=t.getAttribute("data-acpt-validate-regex-message"),M=t.getAttribute("min"),S=t.getAttribute("max"),C=t.getAttribute("minlength"),t=t.getAttribute("maxlength"),T&&""===e&&s.push(O),r&&""!==e&&s.push(i),n&&""===e&&s.push(d),l&&e!==l&&s.push(u),p&&e===p&&s.push(g),b&&parseInt(e)>parseInt(b)&&s.push(v),A&&parseInt(e)>=parseInt(A)&&s.push(I),h&&parseInt(e)<parseInt(h)&&s.push(o),c&&parseInt(e)<=parseInt(c)&&s.push(m),y&&parseInt(e)>parseInt(y)&&s.push(E),f&&parseInt(e)<parseInt(f)&&s.push(x),S&&parseInt(e)>parseInt(S)&&s.push("Max length "+S),M&&parseInt(e)<parseInt(M)&&s.push("Min length "+M),B&&e.length>parseInt(B)&&s.push(k),q&&e.length<parseInt(q)&&s.push(L),t&&e.length>parseInt(t)&&s.push("Max length "+t),C&&e.length<parseInt(C)&&s.push("Min length "+C),V&&!new RegExp(V).test(String(e))&&s.push(H);var s,r,i,n,d,l,u,p,g,h,o,c,m,b,v,A,I,y,E,f,x,B,k,q,L,V,H,M,S,C,T=s.filter(function(t,e,a){return a.indexOf(t)===e}),O=this.errors.findIndex(t=>t.id===a);-1===O?this.errors.push({id:a,errors:T}):this.errors[O]={id:a,errors:T},this.#displayErrors(),this.#disableButton()}#displayErrors(){this.errors.map(r=>{let i=r.id;var t=r.errors,e="acpt-error-list-"+i,n=document.getElementById(i);if(n){let a,s=[];document.getElementById(e)?(a=document.getElementById(e),document.getElementById(e).innerHTML=""):((a=document.createElement("ul")).id=e,a.classList.add("acpt-error-list")),0<t.length?(n.classList.add("has-errors"),t.map(t=>{var e;-1===s.findIndex(t=>t.id===i)&&((e=document.createElement("li")).innerHTML=t,a.appendChild(e),s.push(r))})):(n.classList.remove("has-errors"),a=null,document.getElementById(e)&&(document.getElementById(e).innerHTML=""))}})}#disableButton(){this.button&&(this.#formIsValid()?this.button.disabled=!1:this.button.disabled=!0)}}