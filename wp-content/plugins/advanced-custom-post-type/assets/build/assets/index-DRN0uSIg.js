import{u as t,j as i}from"./fields-Uuj9pZLj.js";import{h as C,u as S,a as h}from"./vendor-D21mNUGX.js";import{a as g}from"./index.esm-DCQn2FO4.js";import{L as I,n as d}from"./Layout-CbPpDR-w.js";import{u as k,a as P,m as R,ck as W,B as T,s as D,L as E,D as L,cB as V}from"./index-DW87FRXD.js";import{a as B}from"./woocommerce_icons-C08nZ2PK.js";import{C as H}from"./index-Dp7DyYVn.js";import{I as q}from"./Input-Dag95jow.js";import{C as u}from"./CardRow-D0wbqPA3.js";import{T as M}from"./Toggle-C4UaD4f5.js";import{C as U}from"./Checkbox-BnNcyaPE.js";import{S as A}from"./SelectMulti-BMDK2H7z.js";import{I as F}from"./InputHidden-Sd_YdD40.js";const ie=({})=>{const n=k(),{data:e}=P(r=>r.fetchWooCommerceProductData),v=C(),{id:o}=S(),m=o?"Edit WooCommerce product data":"Create new WooCommerce product data",[b,p]=h.useState(!1),{register:s,handleSubmit:_,setValue:l,formState:{errors:c},clearErrors:y}=g({mode:"all"}),x=()=>e?typeof e.icon>"u"?null:typeof e.icon=="object"?[e.icon.icon]:[e.icon]:null;h.useEffect(()=>{R(t(m)),o?n(W({id:o})).then(r=>{const a=r.payload;l("product_data_name",a.name),l("icon",a.icon),l("show_ui",a.showInUI),p(!0)}):p(!0)},[]);const w=r=>{n(V(r)).then(a=>{const f=a.payload;f.success?(v("/product-data/product"),d.success(t("Product data successfully saved"))):d.error(f.error)}).catch(a=>{d.error(a)})},j=[i.jsx(T,{type:"submit",style:D.PRIMARY,children:t("Save")})];return b?i.jsx("form",{onSubmit:_(w),children:i.jsx(I,{crumbs:[{label:t("Registered Custom Post Types"),link:"/"},{label:t("WooCommerce product data"),link:"/product-data/product"},{label:o?t("Edit WooCommerce product data"):t("Create new WooCommerce product data")}],title:m,actions:j,children:i.jsxs(H,{style:"with-shadow",children:[i.jsx(F,{register:s,id:"id",value:o||L()}),i.jsx(u,{label:t("Product data name"),value:i.jsx(q,{id:"product_data_name",placeholder:t("Product data name"),description:t("The product data name."),register:s,errors:c,isRequired:!0,validate:{maxLength:{value:20,message:t("max length is 20")},required:t("This field is mandatory")}})}),i.jsx(u,{label:t("Icon"),value:i.jsx(A,{id:"icon",register:s,setValue:l,defaultValue:x(),values:B,clearErrors:y,errors:c,maxItems:1})}),i.jsx(u,{label:t("visibility"),value:i.jsx(U,{register:s,errors:c,id:"visibility",values:{"Show in simple products":{value:"show_if_simple",checked:e&&e.visibility?e.visibility.includes("show_if_simple"):!0},"Show in variable products":{value:"show_if_variable",checked:e&&e.visibility?e.visibility.includes("show_if_variable"):!0},"Show in grouped products":{value:"show_if_grouped",checked:e&&e.visibility?e.visibility.includes("show_if_grouped"):!0},"Show in external products":{value:"show_if_external",checked:e&&e.visibility?e.visibility.includes("show_if_external"):!0},"Hide in virtual products":{value:"hide_if_virtual",checked:e&&e.visibility?e.visibility.includes("hide_if_virtual"):!1},"Hide in external products":{value:"hide_if_external",checked:e&&e.visibility?e.visibility.includes("hide_if_external"):!1}}})}),i.jsx(u,{label:t("Show in UI"),value:i.jsx(M,{register:s,errors:c,id:"show_ui",description:t("Show the product data on the front store page."),defaultValue:null})})]})})}):i.jsx(E,{})};export{ie as default};
