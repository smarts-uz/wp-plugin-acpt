import{j as s,u as l}from"./fields-Uuj9pZLj.js";import{h as w,u as S,a as x}from"./vendor-D21mNUGX.js";import{f as B,L}from"./Layout-CbPpDR-w.js";import{P as i,a as $,u as E,s as P,o as q,m as M,L as A}from"./index-DW87FRXD.js";import{P as I}from"./index-DHZeBRHg.js";import{B as G}from"./index-DU1xUoYR.js";import{C as p}from"./index-Dp7DyYVn.js";import{C as o}from"./CardRow-D0wbqPA3.js";import{B as z}from"./BlockListElementCategory-CrEhB2EV.js";import{E as F}from"./index-CKuX73qi.js";import{B as r}from"./index-wOQd3Bs_.js";import{M as H}from"./index-Bskps18W.js";import{C as d}from"./index-DbbBejw-.js";import"./index-kc5wfrYu.js";const m=({data:e})=>{if(e.length>0)return s.jsxs(p,{children:[s.jsx(o,{label:l("Name"),value:e[0].name}),s.jsx(o,{label:l("Label"),value:e[0].title}),s.jsx(o,{label:l("Icon"),value:s.jsx(F,{value:e[0].icon.src?e[0].icon.src:e[0].icon})}),s.jsx(o,{label:l("Category"),value:s.jsx(z,{category:e[0].category})}),s.jsx(o,{label:l("Keywords"),value:e[0].keywords&&e[0].keywords.length>0&&s.jsx("div",{className:"i-flex-center s-8",children:e[0].keywords&&e[0].keywords.map(a=>s.jsx("span",{className:"acpt-badge acpt-badge-default",children:a}))})}),s.jsx(o,{label:l("Post types"),value:e[0].postTypes&&e[0].postTypes.length>0&&s.jsx("div",{className:"i-flex-center s-8",children:e[0].postTypes.join(", ")})})]})};m.propTypes={data:i.object.isRequired};const g=({data:e})=>{if(e.length>0&&e[0].supports)return s.jsxs(p,{children:[s.jsx(o,{label:l("Anchor"),value:s.jsx(r,{status:e[0].supports.anchor})}),s.jsx(o,{label:l("Align"),value:s.jsx("div",{children:e[0].supports.align&&e[0].supports.align.join(", ")})}),s.jsx(o,{label:l("Align wide"),value:s.jsx(r,{status:e[0].supports.alignWide})}),s.jsx(o,{label:l("Background"),value:s.jsxs("div",{className:"flex-column s-8",children:[s.jsx(t,{value:e[0].supports.background.backgroundImage,label:"Image"}),s.jsx(t,{value:e[0].supports.background.backgroundSize,label:"Size"})]})}),s.jsx(o,{label:l("Color"),value:s.jsxs("div",{className:"flex-column s-8",children:[s.jsx(t,{value:e[0].supports.color.background,label:"Background"}),s.jsx(t,{value:e[0].supports.color.button,label:"Button"}),s.jsx(t,{value:e[0].supports.color.enableContrastChecker,label:"Contrast checker"}),s.jsx(t,{value:e[0].supports.color.gradients,label:"Gradients"}),s.jsx(t,{value:e[0].supports.color.heading,label:"Headings"}),s.jsx(t,{value:e[0].supports.color.link,label:"Links"})]})}),s.jsx(o,{label:l("Dimensions"),value:s.jsxs("div",{className:"flex-column s-8",children:[s.jsx(t,{value:e[0].supports.dimensions.aspectRatio,label:"Aspect ratio"}),s.jsx(t,{value:e[0].supports.dimensions.minHeight,label:"Min height"})]})}),s.jsx(o,{label:l("Duotone"),value:s.jsx(r,{status:e[0].supports.filter.duotone})}),s.jsx(o,{label:l("HTML"),value:s.jsx(r,{status:e[0].supports.html})}),s.jsx(o,{label:l("Lock"),value:s.jsx(r,{status:e[0].supports.lock})}),s.jsx(o,{label:l("Multiple"),value:s.jsx(r,{status:e[0].supports.multiple})}),s.jsx(o,{label:l("Position sticky"),value:s.jsx(r,{status:e[0].supports.position.sticky})}),s.jsx(o,{label:l("Renaming"),value:s.jsx(r,{status:e[0].supports.renaming})}),s.jsx(o,{label:l("Reusable"),value:s.jsx(r,{status:e[0].supports.reusable})}),s.jsx(o,{label:l("Shadow"),value:s.jsx(r,{status:e[0].supports.shadow})}),s.jsx(o,{label:l("Spacing"),value:s.jsxs("div",{className:"flex-column s-8",children:[s.jsx(t,{value:e[0].supports.spacing.margin,label:"Margin"}),s.jsx(t,{value:e[0].supports.spacing.padding,label:"Padding"}),s.jsx(t,{value:e[0].supports.spacing.blockGap,label:"Gap"})]})}),s.jsx(o,{label:l("Typography"),value:s.jsxs("div",{className:"flex-column s-8",children:[s.jsx(t,{value:e[0].supports.typography.fontSize,label:"Font size"}),s.jsx(t,{value:e[0].supports.typography.lineHeight,label:"Line height"}),s.jsx(t,{value:e[0].supports.typography.textAlign,label:"Text align"})]})})]})},t=({label:e,value:a})=>typeof a=="object"?s.jsxs("div",{className:"i-flex-center s-8",children:[s.jsx("span",{style:{width:"90px"},children:l(e)}),s.jsx("span",{children:a.join(", ")})]}):s.jsxs("div",{className:"i-flex-center s-8",children:[s.jsx(r,{status:a}),s.jsx("span",{children:l(e)})]});g.propTypes={data:i.object.isRequired};t.propTypes={label:i.string.isRequired,value:i.oneOf(i.bool,i.object).isRequired};const v=({data:e})=>{if(e.length>0)return s.jsx(p,{children:s.jsx(o,{label:l("Controls"),value:s.jsx("div",{children:e[0].controls.length>0?s.jsxs("table",{className:"acpt-table with-border",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:l("Name")}),s.jsx("th",{children:l("Label")}),s.jsx("th",{children:l("Type")})]})}),s.jsx("tbody",{children:e[0].controls&&e[0].controls.map(a=>s.jsx(f,{control:a},a.id))})]}):s.jsx("div",{children:l("No controls created")})})})})},f=({control:e})=>s.jsxs("tr",{children:[s.jsx("td",{children:e.name}),s.jsx("td",{children:e.label}),s.jsx("td",{children:s.jsx(H,{fieldType:e.type,css:"with-border b-rounded p-8"})})]});v.propTypes={data:i.object.isRequired};f.propTypes={control:i.object.isRequired};const y=({data:e})=>{if(e.length>0)return s.jsx(p,{children:s.jsx(o,{label:l("Callback"),value:s.jsx(d,{code:e[0].callback,language:"php"})})})};y.propTypes={data:i.object.isRequired};const k=({data:e})=>{if(e.length>0)return s.jsx(p,{children:s.jsx(o,{label:l("Style"),value:s.jsx(d,{code:e[0].css,language:"css"})})})};k.propTypes={data:i.object.isRequired};const ls=()=>{const{data:e,loading:a}=$(n=>n.fetchBlocks),j=E();w();const{block:u}=S(),[c,C]=x.useState(0),[T,b]=x.useState(!1),N=[s.jsx(G,{style:P.PRIMARY,to:`/block/${u}/${c}`,children:l("Edit")})];if(x.useEffect(()=>{j(q({id:u})).then(n=>{n.payload.length!==1&&b(!0),M(`${n.payload[0].title}: ${l("global settings")}`),B()}).catch(n=>{b(!0),console.error(n)})},[u]),a)return s.jsx(A,{});if(T)return s.jsx(I,{});const R=["General","Supports","Controls","Callback","Style"];if(e.length===1)return s.jsx(L,{title:`${e[0].title}: ${l("global settings")}`,actions:N,crumbs:[{label:l("Registered dynamic blocks"),link:"/blocks"},{label:`${e.length>0?e[0].title:""}: ${l("global settings")}`}],children:s.jsxs("div",{children:[s.jsx("div",{className:"acpt-tabs",children:s.jsx("ul",{role:"tablist",className:"tablist mb-12",children:R.map((n,h)=>s.jsx("li",{className:`acpt-accordion-tab ${c===h?"active":""}`,onClick:()=>{C(parseInt(h))},children:n}))})}),c===0&&s.jsx(m,{data:e}),c===1&&s.jsx(g,{data:e}),c===2&&s.jsx(v,{data:e}),c===3&&s.jsx(y,{data:e}),c===4&&s.jsx(k,{data:e})]})})};export{ls as default};
