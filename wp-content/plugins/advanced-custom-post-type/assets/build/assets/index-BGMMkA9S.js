import{j as s,u as t}from"./fields-Uuj9pZLj.js";import{R as b,u as C,a as u,h as q}from"./vendor-D21mNUGX.js";import{B as A,s as N,n as E,f as $,L as I}from"./Layout-CbPpDR-w.js";import{P as c,w as v,r as B,a as G,u as Q,j as W,m as k,L as F,s as h}from"./index-DW87FRXD.js";import{P as M}from"./index-DHZeBRHg.js";import{C as a}from"./CardRow-D0wbqPA3.js";import{E as D}from"./index-CKuX73qi.js";import{C as j}from"./index-Dp7DyYVn.js";import{p as H}from"./postLabels-CfVXUWj1.js";import{B as i}from"./index-wOQd3Bs_.js";import{B as x}from"./index-DU1xUoYR.js";const f=({data:e})=>{if(e.length>0)return s.jsxs(j,{children:[s.jsx(a,{label:t("Name"),value:e[0].name}),s.jsx(a,{label:t("Singular"),value:e[0].singular}),s.jsx(a,{label:t("Plural"),value:e[0].plural}),s.jsx(a,{label:t("Icon"),value:s.jsx(D,{value:e[0].icon})}),s.jsx(a,{label:t("Supports"),value:s.jsx("div",{className:"i-flex-center s-8",children:e[0].supports.map(n=>s.jsx(A,{children:n}))})})]})};f.propTypes={data:c.object.isRequired};const y=({postType:e,data:n})=>{const p=()=>{v("regeneratePostLabelsAction",{postType:e}).then(l=>{l.success&&(N("Labels successfully regenerated"),B(50)),l.error&&E.error(error)}).catch(l=>{console.error(l.message)})};if(n.length>0)return s.jsxs(j,{children:[s.jsxs("div",{className:"acpt-card-row",children:[s.jsx("span",{className:"label",children:s.jsx("a",{style:{fontWeight:"normal"},href:"#",onClick:l=>{l.preventDefault(),p()},children:t("Regenerate")})}),s.jsx("span",{className:"value"})]}),H.map(l=>s.jsx(a,{index:l.id,label:t(l.label),value:n[0].labels[l.id]}))]})};y.propTypes={postType:c.string.isRequired,data:c.object.isRequired};const _=({data:e,isWPGraphQLActive:n=!1})=>{if(e.length>0)return s.jsxs(j,{children:[n&&s.jsxs(b.Fragment,{children:[s.jsx(a,{label:t("Show the custom post type in WPGraphQL"),value:s.jsx(i,{status:e[0].settings.show_in_graphql})}),s.jsx(a,{label:t("GraphQL single name"),value:s.jsx(i,{status:e[0].settings.graphql_single_name})}),s.jsx(a,{label:t("GraphQL plural name"),value:s.jsx(i,{status:e[0].settings.graphql_plural_name})})]}),s.jsx(a,{label:t("Hierarchical"),value:s.jsx(i,{status:e[0].settings.hierarchical})}),s.jsx(a,{label:t("Is Public"),value:s.jsx(i,{status:e[0].settings.public})}),s.jsx(a,{label:t("Publicly queryable"),value:s.jsx(i,{status:e[0].settings.publicly_queryable})}),s.jsx(a,{label:t("Show in UI"),value:s.jsx(i,{status:e[0].settings.show_ui})}),s.jsx(a,{label:t("Show in menu"),value:typeof e[0].settings.show_in_menu=="string"?e[0].settings.show_in_menu:s.jsx(i,{status:e[0].settings.show_in_menu})}),s.jsx(a,{label:t("Show in nav menus"),value:s.jsx(i,{status:e[0].settings.show_in_nav_menus})}),s.jsx(a,{label:t("Show in admin bar"),value:s.jsx(i,{status:e[0].settings.show_in_admin_bar})}),s.jsx(a,{label:t("Show in REST API"),value:s.jsx(i,{status:e[0].settings.show_in_rest})}),s.jsx(a,{label:t("REST API base slug"),value:e[0].settings.rest_base}),s.jsx(a,{label:t("Menu position"),value:e[0].settings.menu_position}),s.jsx(a,{label:t("Capability Type"),value:e[0].settings.capability_type}),s.jsx(a,{label:t("Has archive"),value:typeof e[0].settings.has_archive=="string"?e[0].settings.has_archive:s.jsx(i,{status:e[0].settings.has_archive})}),s.jsx(a,{label:t("Rewrite"),value:s.jsx(i,{status:e[0].settings.rewrite})}),e[0].settings.rewrite&&s.jsxs(b.Fragment,{children:[s.jsx(a,{label:t("Custom rewrite rules"),value:e[0].settings.custom_rewrite}),s.jsx(a,{label:t("With front"),value:s.jsx(i,{status:e[0].settings.with_front})})]}),s.jsx(a,{label:t("Query var"),value:e[0].settings.query_var}),s.jsx(a,{label:t("Custom query var"),value:e[0].settings.custom_query_var}),s.jsx(a,{label:t("Front URL prefix"),value:e[0].settings.front_url_prefix})]})};_.propTypes={data:c.object.isRequired,isWPGraphQLActive:c.bool};const ts=()=>{const{data:e,loading:n}=G(r=>r.fetchCustomPostTypes),p=Q(),{postType:l}=C(),[w,P]=u.useState(!1),[o,d]=u.useState(0),[R,g]=u.useState(!1),L=q();if((l==="page"||l==="post")&&L("/"),u.useEffect(()=>{v("isWPGraphQLActiveAction",{}).then(r=>{P(r.status)}).catch(r=>{console.error(r.message)})},[]),u.useEffect(()=>{p(W({postType:l})).then(r=>{r.payload.length!==1&&g(!0),k(`${r.payload[0].singular}: ${t("global settings")}`),$()}).catch(r=>{g(!0),console.error(r)})},[l]),n)return s.jsx(F,{});if(R)return s.jsx(M,{});const T=[s.jsx(x,{style:h.PRIMARY,to:`/edit/${l}/${o}`,children:t("Edit")}),s.jsx(x,{style:h.SECONDARY,to:`/assoc-taxonomy-post/${l}`,children:t("Taxonomies association")}),s.jsx(x,{style:h.WARNING,to:`/permissions/post/${l}/${e.length>0?e[0].id:""}`,children:t("Permissions")})],S=["Basic","Labels","Settings"];return s.jsx(I,{title:`${l}: ${t("global settings")}`,actions:T,crumbs:[{label:t("Registered Custom Post Types"),link:"/"},{label:`${e.length>0?e[0].singular:""}: ${t("global settings")}`}],children:s.jsxs("div",{children:[s.jsx("div",{className:"acpt-tabs",children:s.jsx("ul",{role:"tablist",className:"tablist mb-12",children:S.map((r,m)=>s.jsx("li",{className:`acpt-accordion-tab ${o===m?"active":""}`,onClick:()=>{d(parseInt(m))},children:r}))})}),o===0&&s.jsx(f,{data:e}),o===1&&s.jsx(y,{data:e,postType:l}),o===2&&s.jsx(_,{data:e,isWPGraphQLActive:w})]})})};export{ts as default};
